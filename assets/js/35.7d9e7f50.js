(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{403:function(e,t,s){"use strict";s.r(t);var n=s(5),a=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"修改代码触发自动部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改代码触发自动部署"}},[e._v("#")]),e._v(" 修改代码触发自动部署")]),e._v(" "),t("p",[e._v("本站有两种部署方式，一种是手动执行"),t("code",[e._v("deploy.sh")]),e._v("，第二种是用"),t("strong",[e._v("GitHub Action")]),e._v("自动化持续集成，第二种更方便也更自动化，所以只介绍第二种喽！")]),e._v(" "),t("p",[e._v("本站根据VuePress和vdoing的推荐，接入了GitHub Action，支持修改完代码提交之后，触发GitHub Action，自动build和deploy发布资源，同时也是因为它，我们可以在github直接新增或者修改文章，修改完成之后，会自动触发build和deploy，不需要我们手动构建和发布，自动部署。")]),e._v(" "),t("p",[e._v("具体配置的话VuePress和vdoing都有详细文档，这里就不作介绍了，贴链接如下：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/deployment.html#github-pages",target:"_blank",rel:"noopener noreferrer"}},[e._v("VuePress GitHub CI"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://doc.xugaoyi.com/pages/0fc1d2/#_1-%E4%BD%BF%E7%94%A8deploy-sh%E8%84%9A%E6%9C%AC%E9%83%A8%E7%BD%B2",target:"_blank",rel:"noopener noreferrer"}},[e._v("vdoing GitHub CI"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"可能的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可能的问题"}},[e._v("#")]),e._v(" 可能的问题")]),e._v(" "),t("p",[e._v("这里记录一下过程中可能碰到的问题。")]),e._v(" "),t("h3",{attrs:{id:"github-action-build-no-permission"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#github-action-build-no-permission"}},[e._v("#")]),e._v(" GitHub Action build no Permission")]),e._v(" "),t("p",[e._v("报错信息如下：")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("remote: Permission to 你的仓库地址 denied to github-actions"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("bot"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(".\nfatal: unable to access "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'你的仓库地址'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" The requested URL returned error: "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("403")]),e._v("\nError: Process completed with "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v(" code "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("128")]),e._v(".\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("因为"),t("code",[e._v(".github/workflows/ci.yml")]),e._v("文件配置需要取你的"),t("code",[e._v("secrets.ACCESS_TOKEN")]),e._v("去做自动化，这个token需要配置权限的，报错之后，可以去用户设置（不是当前仓库的设置）去修改权限，具体设置地址："),t("code",[e._v("Settings/Developer Settings/Personal access tokens/Fine-grained personal access tokens")]),e._v("，点进去之前设置的token，编辑权限为当前仓库或所有仓库，以及下面的具体权限更改为读和写就好了。")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://fallenaAngel.github.io/picx-images-hosting/config/access_token_config.7sn1a08o6c.webp",target:"_blank",rel:"noopener noreferrer"}},[e._v("配置动作"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);